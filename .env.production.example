# =============================================================================
# Adaptive Learning Decision Engine - Production Environment Configuration
# =============================================================================
# CRITICAL: This is a production configuration template
# Copy this file to .env.production and update ALL values!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# IMPORTANT: Use strong passwords in production!
DATABASE_URL=postgresql://adaptive_user:CHANGE_THIS_PASSWORD@db:5432/adaptive_learning_prod

# SQLite for offline storage (not used in production backend)
SQLITE_DATABASE_URL=sqlite:///./local.db

# PostgreSQL credentials
POSTGRES_USER=adaptive_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=adaptive_learning_prod
POSTGRES_HOST=db
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# CRITICAL: Generate a strong random key!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_A_STRONG_RANDOM_KEY

# JWT algorithm
ALGORITHM=HS256

# Token expiration time in minutes (1440 = 24 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# Backend API host and port
API_HOST=0.0.0.0
API_PORT=8000

# CORS allowed origins - MUST match your domain!
# Example: ["https://yourdomain.com", "https://www.yourdomain.com"]
BACKEND_CORS_ORIGINS=["https://yourdomain.com"]

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# Backend API URL - MUST match your domain!
# Example: https://yourdomain.com/api
NEXT_PUBLIC_API_URL=https://yourdomain.com/api

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Adjust based on expected traffic
RATE_LIMIT_PER_MINUTE=100

# -----------------------------------------------------------------------------
# Sync Configuration
# -----------------------------------------------------------------------------
SYNC_INTERVAL_SECONDS=30
SYNC_RETRY_MAX_ATTEMPTS=5

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# Set to number of CPU cores (e.g., 4 for 4-core server)
WORKERS=4

# Database connection pool
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=40

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Enable HTTPS redirect
FORCE_HTTPS=true

# Secure cookies (requires HTTPS)
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=strict
